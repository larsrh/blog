<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Stefan Tilkov">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href="https://www.innoq.comhttps://www.innoq.com/blog/st/2006/08/java-1.7-gets-closures/">
  <link href="/blog/st/favicon.png" rel="icon">
  <link href="/blog/st/atom.xml" rel="alternate" title="Stefan Tilkov's Blog" type="application/atom+xml">


  <link rel="stylesheet" href="https://bootstrap.assets.innoq.com/css/0.0.9/innoq-bootstrap-theme.css" />
  <link rel="stylesheet" href="/blog/st/stylesheets/blog.css" />

  <title>Java 1.7 Gets Closures? [Stefan Tilkov’s Blog]</title>
  
</head>


  <body>

    <nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand m-2 p-2" href="https://www.innoq.com/"><img alt="INNOQ logo" height="40" src="https://innoq.style/assets/innoq-logo--whitered.svg" /></a>
  <a class="navbar-brand text-light" href="/blog/st/">Stefan Tilkov’s Blog Archive</a>
</nav>





    <main class="container">
      <p class="mt-5"><em>
	This is a single archived entry from Stefan Tilkov’s blog. For more up-to-date content,
	check out my <a href="https://www.innoq.com/en/staff/stefan-tilkov/">author page at INNOQ</a>,
	which has more information about me and also contains a list of published talks, podcasts, and articles.
	Or you can check out the <a href="/blog/st/">full archive</a>.

      </em></p>
      <article>
	<header>
          <h1>Java 1.7 Gets Closures?</h1>
	  <p><small><a href="https://www.innoq.com/en/staff/stefan-tilkov/">Stefan Tilkov</a>, <time datetime="2017-06-26">Aug 19, 2006</time></small><p>
	</header>
	<section>
	  <p>Closures in Java! Here&#8217;s the proposal (<a href="http://blogs.sun.com/roller/resources/ahe/closures.pdf">PDF</a>, authored by Gilad Bracha, Neal Gafter, James Gosling, Peter von der Ahe&#769;. Neal Gafter has an abbreviated <a href="http://gafter.blogspot.com/2006/08/closures-for-java.html">HTML version</a>), including some comments.</p>

<p>Local functions, as first class objects:</p>

<pre><code>    public static void main(String[] args) {
int plus2(int x) { return x+2; }
int(int) plus2b = plus2;
System.out.println(plus2b(2));
}
</code></pre>

<p>Rewritten using a closure:</p>

<pre><code>     int(int) plus2b = (int x) {return x+2; };
</code></pre>

<p>One highlight:</p>

<blockquote>
<p>Names that are in scope where a function or closure is defined may be referenced within the closure. We do
not propose a rule that requires referenced variables be final, as is currently required for anonymous class
instances. The constraint on anonymous class instances is also relaxed to allow them to reference any local
variable in scope.</p>
</blockquote>

<p>Very cool &#8212; too sad it&#8217;ll take years until it&#8217;s available, and even longer for it to become widespread enough to be used in practice.</p>

<p><em>Update</em>: More about this from <a href="http://blogs.sun.com/roller/page/gbracha?entry=achieving_closure">Gilad Bracha</a>, <a href="http://blogs.sun.com/roller/page/ahe?entry=full_disclosure">Peter von der Ah&#233;</a>.</p>

<p><em>Another update</em>: Excellent discussion at <a href="http://lambda-the-ultimate.org/node/1684">Lambda the Ultimate</a>.</p>

	</section>
      </article>
    </main>

  </body>
</html>


