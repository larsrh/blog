<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Stefan Tilkov">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href="https://www.innoq.comhttps://www.innoq.com/blog/st/2006/06/rest-vs.-soap-oh-no-not-again/">
  <link href="/blog/st/favicon.png" rel="icon">
  <link href="/blog/st/atom.xml" rel="alternate" title="Stefan Tilkov's Blog" type="application/atom+xml">


  <link rel="stylesheet" href="https://bootstrap.assets.innoq.com/css/0.0.9/innoq-bootstrap-theme.css" />
  <link rel="stylesheet" href="/blog/st/stylesheets/blog.css" />

  <title>REST vs. SOAP (Oh No, Not Again) [Stefan Tilkov’s Blog]</title>
  
</head>


  <body>

    <nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand m-2 p-2" href="https://www.innoq.com/"><img alt="INNOQ logo" height="40" src="https://innoq.style/assets/innoq-logo--whitered.svg" /></a>
  <a class="navbar-brand text-light" href="/blog/st/">Stefan Tilkov’s Blog Archive</a>
</nav>





    <main class="container">
      <p class="mt-5"><em>
	This is a single archived entry from Stefan Tilkov’s blog. For more up-to-date content,
	check out my <a href="https://www.innoq.com/en/staff/stefan-tilkov/">author page at INNOQ</a>,
	which has more information about me and also contains a list of published talks, podcasts, and articles.
	Or you can check out the <a href="/blog/st/">full archive</a>.

      </em></p>
      <article>
	<header>
          <h1>REST vs. SOAP (Oh No, Not Again)</h1>
	  <p><small><a href="https://www.innoq.com/en/staff/stefan-tilkov/">Stefan Tilkov</a>, <time datetime="2017-06-26">Jun 30, 2006</time></small><p>
	</header>
	<section>
	  <p>Well, yes, once again.</p>

<p>To illustrate why I believe a RESTful application design is different not only in implementation details, I&#8217;ve created these two diagrams:</p>

<p><em>Service-oriented Design</em></p>

<p><a href="/blog/st/images/facades-1-tm.jpg" onclick="window.open('/blog/st/images/facades-1.jpg','popup','width=248,height=245,scrollbars=no,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=yes,left=0,top=0');return false"><img src="/blog/st/images/facades-1-tm.jpg" border="0" vspace="4" align="left" height="124" hspace="4" alt="Facades-1" width="122" /></a></p>

<p>In this model, there will be very few services, each of them exposing a number of operations. Every service is different (has its own interface); the service itself does represent any entity (something which has a logical identity). Instead, some information to identify entities is passed as parameters or, if your prefer, information within the documents. </p>

<p><br style="clear:both" /></p>

<p><em>Resource-oriented (REST) Design</em></p>

<p><a href="/blog/st/images/resources-tm.jpg" onclick="window.open('/blog/st/images/resources.jpg','popup','width=563,height=458,scrollbars=no,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=yes,left=0,top=0');return false"><img title="Resources" src="/blog/st/images/resources-tm.jpg" border="0" vspace="4" align="left" height="281" hspace="4" alt="Resources" width="229" /></a></p>

<p>In a RESTful architecture, the key resources are identified; these can be entities, collections, or anything else the designer seems worthy of having its own URI. The standard methods &#8212; in this case, the HTTP verbs &#8212; are mapped to resource-specific semantics. All resources implement the same (uniform) interface. Not shown in the simplistic diagram is the dimension of content-types, which allows for different representations of resources (e.g. in both XML, HTML, and plain text), as well as the possibility of links to resources in resource representations. Use your imagination &#8212; e.g. the GET on /customer/4711 would return a document that contains a link to a specific /order/xyz.</p>

<p><br style="clear:both" /></p>

<section class="comments">

<div class="comment" id="comment-938">
On <a href="#comment-938" title="Permalink to this comment">June 30, 2006 11:13 AM</a>, <a href="http://www.dancres.org" title="http://www.dancres.org" rel="nofollow">Dan Creswell</a>
said:
<p>Yeah, I like it.  One thing I&#8217;d consider is not mentioning http at all.  I&#8217;d talk about CRUD instead maybe or whatever David@Rails had in his presentation (World of Resources) recently. This would allow people to see the design differences without having their minds corrupted by their (wrong?) understanding of what HTTP is.</p>

<p>i.e.  Let&#8217;s keep it as pure as possible.</p>

<p>Best,</p>

<p>Dan.</p>


<div class="comment" id="comment-939">
On <a href="#comment-939" title="Permalink to this comment">June 30, 2006 11:58 AM</a>, <a href="http://www.bluebear.co.nz/log" title="http://www.bluebear.co.nz/log" rel="nofollow">Jason R Briggs</a>
said:
<p>Your second diagram illustrates the brilliance of REST.  Ask any REST proponent to define the basic resources for a system comprising &#8220;orders&#8221; and &#8220;customers&#8221;, and I&#8217;m willing to bet they&#8217;d come up with something -very- similar to what you&#8217;ve described.</p>

<p>Ask the same of the other camp(s), and I&#8217;m just as sure you&#8217;ll get a dozen different replies of exponentially increasing complexity.</p>


<div class="comment" id="comment-940">
On <a href="#comment-940" title="Permalink to this comment">June 30, 2006  3:32 PM</a>, <a href="http://www.dancres.org" title="http://www.dancres.org" rel="nofollow">Dan Creswell</a>
said:
<p>&#8220;Ask the same of the other camp(s), and I’m just as sure you’ll get a dozen different replies of exponentially increasing complexity.&#8221;</p>

<p>Indeed you might but it could well be because they aren&#8217;t thinking pure design.  Instead they are allowing their design to be confused/influenced by the technologies they commonly use.  Design patterns, CRUD, CRC cards (or similar techniques) etc are all largely ignored by the masses in favour of following &#8220;patterns&#8221; enforced by frameworks such as EJB.  And when this happen, design goes out the window as you focus on fitting with the framework rather than having the framework fit you.</p>

<p>And then there&#8217;s the simple matter of simplicity - most people don&#8217;t seem to strive for this.  I wonder if that&#8217;s because things like refactoring are frowned upon as un-necessary time waste with the resultant loss of learning opportunities.</p>


<div class="comment" id="comment-941">
On <a href="#comment-941" title="Permalink to this comment">June 30, 2006  3:37 PM</a>, <a href="http://www.restlet.org" title="http://www.restlet.org" rel="nofollow">Jerome Louvel</a>
said:
<p>Very compelling way of describing the fundamental difference between both approachs! I&#8217;m also thinking about a related REST diagram that would emphasize the URI hierarchies (composition) instead of the derivation from the Resource concept.</p>


<div class="comment" id="comment-942">
On <a href="#comment-942" title="Permalink to this comment">July  1, 2006 11:18 AM</a>, <a href="http://www.dulciana.com" title="http://www.dulciana.com" rel="nofollow">Mike Glendinning</a>
said:
<p>Stefan,</p>

<p>Indeed, it would be great if we could get everybody to agree on REST as primarily an approach to conceptual modelling (see my earlier comments on <a href="/blog/st/2006/02/22/more_soap_vs_rest_arguments.html)." rel="nofollow" /><a href="/blog/st/2006/02/22/more" rel="nofollow">/blog/st/2006/02/22/more</a><em>soap</em>vs<em>rest</em>arguments.html).  We might then be able to move the debate forward and actually learn something.</p>

<p>A few things are perhaps still worth pointing out, however.</p>

<p>Firstly, as any analyst will know, there is no single &#8220;correct&#8221; way to model anything.  Different approaches work better in different scenarios (see again &#8220;Data and Reality&#8221; for an old, but still relevant discussion).  So this is not an either/or debate: both &#8220;service oriented&#8221; and &#8220;resource oriented&#8221; approaches might be valid and useful in different circumstances.</p>

<p>Secondly, there is nothing to stop anyone taking the same REST modelling approach and implementing a system using SOAP/WSDL, Corba, Java/RMI or any other technology.  Similarly, a service-oriented approach can be taken with [raw] HTTP (as seems so often the case in the many pseudo-REST systems out there).  So the debate clearly isn&#8217;t about implementation technology at all.  Hmnnn.  Isn&#8217;t this going to spoil everybody&#8217;s fun :-?</p>

<p>Thirdly, the &#8220;resource oriented&#8221; approach could equally well be called &#8220;object oriented&#8221; (at least in some sense).  But the pure object-oriented approach has been shown to be ineffective in building large-scale distributed systems, hence the rise of the &#8220;service oriented&#8221; approach (abstract, stateless, coarse-grained objects, box-carring and so on).</p>

<p>Lastly, aren&#8217;t URLs supposed to be opaque according to the pure web architecture?  But your example has much semantic information encoded within the URL character sequences.  Surely this will lead people to (incorrectly) try and construct URLs themselves, or even worse unpick parts of the character strings for other purposes (e.g. extracting an orderId).  Shouldn&#8217;t a REST system also have a system of &#8220;finders&#8221; and &#8220;factories&#8221; to avoid any dependencies on or implied assumptions about the format of URLs?</p>

<p>-Mike.</p>


<div class="comment" id="comment-943">
On <a href="#comment-943" title="Permalink to this comment">July  1, 2006 12:46 PM</a>, <a href="/en/staff/st/">Stefan Tilkov</a>
said:
<p>Mike, very valid points. To address them one by one:</p>

<ol>
<li><p>You are right, of course; but contrary to most service-oriented approaches I&#8217;ve seen, REST does suggest a lot of decisions because of its constraints. I agree with Jason (see his comment) that most REST folks would arrive at a similar conclusion. My main goal, though, was to point out that the &#8216;canonical&#8217; SO vs. RO approach are very different.</p></li>
<li><p>You are absolutely right, which is why REST vs. SOA(P) is not an implementation, but rather an architectural discussion. Both camps have a natural tendency towards one of these models &#8212; SOA(P)/WSDL + tooling on the one side, HTTP on the other side. Still, the debate would be very similar were we to argue a RESTful approach vs. a service-oriented approach, both implemented using SOAP and JMS.</p></li>
<li><p>The main different to the object-oriented approach is that there&#8217;s a single (uniform) interface; the main similarity is that of identity.</p></li>
<li><p>You are right, and this is a tradeoff &#8212; URIs which are easy to remember lead to the wrong assumption that one can de-construct and compose them meaningfully on the client.</p></li>
</ol>


<div class="comment" id="comment-944">
On <a href="#comment-944" title="Permalink to this comment">July  4, 2006  2:43 PM</a>, Bryan
said:
<p>REST seems to be a object-oriented version.</p>


<div class="comment" id="comment-945">
On <a href="#comment-945" title="Permalink to this comment">July  5, 2006  6:56 PM</a>, <a href="http://blogs.usask.ca/dong_notes/" title="http://blogs.usask.ca/dong_notes/" rel="nofollow">Dong Liu</a>
said:
<p>Is that the major difference between document-oriented development and  object-oriented, Or document-first development and class-first?</p>


<div class="comment" id="comment-946">
On <a href="#comment-946" title="Permalink to this comment">July  5, 2006  7:52 PM</a>, <a href="/en/staff/st/">Stefan Tilkov</a>
said:
<p>I would say it&#8217;s the difference between resource-oriented and service-oriented :-)</p>


<div class="comment" id="comment-947">
On <a href="#comment-947" title="Permalink to this comment">October 27, 2006  6:23 PM</a>, <a href="http://netzooid.com" title="http://netzooid.com" rel="nofollow">Dan Diephouse</a>
said:
<p>As part of CXF (http://cwiki.apache.org/CXF/) I&#8217;ve been working on this:</p>

<p>Service:
<a href="http://fisheye3.cenqua.com/browse/celtixfire/trunk/rt/bindings/http/src/test/java/org/apache/cxf/binding/http/bare/CustomerService.java?r=467368" rel="nofollow" /><a href="http://fisheye3.cenqua.com/browse/celtixfire/trunk/rt/bindings/http/src/test/java/org/apache/cxf/binding/http/bare/CustomerService.java?r=467368" rel="nofollow">http://fisheye3.cenqua.com/browse/celtixfire/trunk/rt/bindings/http/src/test/java/org/apache/cxf/binding/http/bare/CustomerService.java?r=467368</a></p>

<p>Unit test:
<a href="http://fisheye3.cenqua.com/browse/celtixfire/trunk/rt/bindings/http/src/test/java/org/apache/cxf/binding/http/bare/BareServiceTest.java?r=467382" rel="nofollow" /><a href="http://fisheye3.cenqua.com/browse/celtixfire/trunk/rt/bindings/http/src/test/java/org/apache/cxf/binding/http/bare/BareServiceTest.java?r=467382" rel="nofollow">http://fisheye3.cenqua.com/browse/celtixfire/trunk/rt/bindings/http/src/test/java/org/apache/cxf/binding/http/bare/BareServiceTest.java?r=467382</a></p>

<p>I was surprised to see that it pretty much lined up exactly with a good portion of your diagram. I will have more details and docs within a week as part of our first milestone, but you may be interested in checking it out.</p>


<div class="comment" id="comment-948">
On <a href="#comment-948" title="Permalink to this comment">October 28, 2006 10:36 AM</a>, Tomas Olsson
said:
<p>Hi,</p>

<p>REST seems to be a little bit similar in concept to OASIS&#8217;s WSRF (http://www.oasis-open.org/committees/tc<em>home.php?wg</em>abbrev=wsrf) or even more to WS-Transfer (http://www.w3.org/Submission/WS-Transfer/). But, REST seems to be much simpler.</p>


<div class="comment" id="comment-949">
On <a href="#comment-949" title="Permalink to this comment">October 28, 2006  1:10 PM</a>, <a href="/en/staff/st/">Stefan Tilkov</a>
said:
<p>Yes &#8212; that&#8217;s because both WSRF and WS-Transfer are bad re-inventions and basically do HTTP-over-SOAP-over-HTTP!</p>


<div class="comment" id="comment-950">
On <a href="#comment-950" title="Permalink to this comment">December 29, 2006  5:20 PM</a>, Victor Volle
said:
<p>Hi,</p>

<p>I am still not sure I get the whole debate right. How would I express business services like:</p>

<p>1) promotePersonToCustomer
(sure I could do an update (POST) on person and set a flag that he is
a customer, but wouldn&#8217;t that mean, I have to check if the flag has
changed, whenever a POST happens, and there are probably quite a bunch
of different scenarios (use cases) that must then be checked with each
POST)</p>

<p>2) customerMoved
(I.e., this is not a correction of an address (typo) but he really has
moved, which is probably something totally different. Probably it is
necessary to keep the old address &#8212; ok, I could do a PUT to create
a new address, with a flag &#8220;MainAdress&#8221;, but I think &#8220;customerMoved&#8221;
is a much more expressive service)</p>

<p>3) markCustomerAsBadRisk
(so I want to mark this customer as a bad risk, we shouldn&#8217;t do any
new business with him. Again I could do an UPDATE on the customer,
but again, I would have to watch for any changes to this flag, I would
even have to create a big matrix of compatible changes on the
diverse customer attributes, and again, markCustomerAsBadRisk is much
more expressive)</p>

<p>So it perhaps boils down to: How do I express &#8220;verbs&#8221; that go beyond the CRUD pattern.</p>

<p>-Victor</p>


<div class="comment" id="comment-951">
On <a href="#comment-951" title="Permalink to this comment">December 29, 2006 10:07 PM</a>, <a href="/en/staff/st/">Stefan Tilkov</a>
said:
<p>Hi Victor,</p>

<p>First of all, update is more similar to PUT (you most often use POST to create something new).</p>

<p>As to your use cases:</p>

<p>For 1), one way would the one you describe (with PUT instead of POST). Another way would be to have both a customers/ and a persons/ collection resource, and add a new resource under customers/ that refers to an existing one under persons/.</p>

<p>For 2), again, you&#8217;ve mixed up PUT and POST; apart from that, one solution could be to create a new address resource under the existing customer (i.e. &#8220;customerMoved&#8221; would become &#8220;add address&#8221;). The customer would link to its addresses</p>

<p>For 3), you could have a &#8220;goodcustomers&#8221; collection, a &#8220;badcustomers&#8221; collection, or both, each of which would (or would not) include links to the customers that belong there.</p>

<p>Of course there are many other ways to do this, just as there are many different ways to choose operation names. Using REST, your variables are a) the resource identifier b) the verb and c) the content</p>

<p>HTH,
Stefan</p>


<div class="comment" id="comment-952">
On <a href="#comment-952" title="Permalink to this comment">December 30, 2006  6:33 PM</a>, Victor Volle
said:
<p>Hi Stefan,</p>

<p>thx for the prompt response.
Putting things in collections to mark them in a certain way surely sounds unusual to me, but perhaps it&#8217;s just a certain kind of mind set that is needed.</p>

<p>But with &#8220;add address&#8221; I really see a problem: there can only be one main address, so &#8220;adding&#8221; a new address (as main address) would mean to move the previous main address into a &#8220;previous addresses&#8221; collection. Sure I can do that, but I really think an operation like &#8220;customerMoved&#8221; is much easier to understand because it really states the behaviour of this operation. When I compare it to &#8220;add address&#8221; or even &#8220;replace address&#8221;. And again there are a multitude of different operations that can be hidden behind a basic operation like &#8220;add address&#8221;. </p>

<p>I wouldn&#8217;t want to lose the expressiveness of naming operations &#8212; even if 80% of the operations are CRUD operations. The corner cases sometimes dictate how you want to handle the majority of the cases.</p>

<p>And w.r.t the mind set: not everything is a noun. (and not for every verb there is a good/fitting projection on the four REST verbs) </p>

<p>Again thx, and a happy new year.</p>

<p>Victor</p>


<div class="comment" id="comment-953">
On <a href="#comment-953" title="Permalink to this comment">April 10, 2007 10:59 PM</a>, gary
said:
<p>I&#8217;m not following the difference here..  In my design I&#8217;d have /app/servics/Customer and /app/services/Order     So what about that does not idenfity the identity?    It seems you assumed that the two services would be combined into something less descriptive&#8230;</p>


<div class="comment" id="comment-954">
On <a href="#comment-954" title="Permalink to this comment">April 10, 2007 11:18 PM</a>, <a href="/en/staff/st/">Stefan Tilkov</a>
said:
<p>Gary, how would you send me a link to a <em>specific</em> customer? I assume you can&#8217;t &#8212; to get at one, I&#8217;d have to retrieve the WSDL for /app/services/Customer, find the getCustomerDetails() operation, understand your ID scheme, and POST appropriately. Right?</p>


<div class="comment" id="comment-955">
On <a href="#comment-955" title="Permalink to this comment">April 11, 2007  2:42 PM</a>, gary
said:
<p>Exactly.. And I&#8217;m guessing that there is no specification on what a REST service takes as input nor what it&#8217;s output is?    So I guess I&#8217;ll call your /customer/4711 and henry&#8217;s /customer/4711 and I shold get the sanme results right?  And I guess you don&#8217;t need to be concerned with the fact that my customer has a composite key.     It&#8217;ll all magically work for you&#8230;</p>


<div class="comment" id="comment-956">
On <a href="#comment-956" title="Permalink to this comment">April 12, 2007  9:33 AM</a>, <a href="/en/staff/st/">Stefan Tilkov</a>
said:
<p>No, you&#8217;ll probably not get the same result, but why would you? If you look at the URLs <a href="http://example1.com/customer/4711" rel="nofollow" /><a href="http://example1.com/customer/4711" rel="nofollow">http://example1.com/customer/4711</a> and <a href="http://example2.com/customer/4711," rel="nofollow" /><a href="http://example2.com/customer/4711," rel="nofollow">http://example2.com/customer/4711,</a> they&#8217;re different &#8212; never mind that they end in the same string, this is just not relevant. From the documentation, you&#8217;ll (hopefully) find out the representations&#8217; content type. </p>

<p>There is a machine-processable REST description language, WADL, but I&#8217;m not entirely sure you actually need it when you don&#8217;t generate code from it. Of course you do need documentation, but that&#8217;s true in any case.</p>

<p>And no, I don&#8217;t need to be concered with composite keys &#8212; if you insist on having them only, you can&#8217;t benefit from REST&#8217;s standardized identity scheme. Which may be OK &#8212; as usual, a question of what compromise works best for you.</p>


</section>

	</section>
      </article>
    </main>

  </body>
</html>


