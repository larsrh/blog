<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Stefan Tilkov">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href="https://www.innoq.comhttps://www.innoq.com/blog/st/2008/01/when-to-use-restful-http/">
  <link href="/blog/st/favicon.png" rel="icon">
  <link href="/blog/st/atom.xml" rel="alternate" title="Stefan Tilkov's Blog" type="application/atom+xml">


  <link rel="stylesheet" href="https://bootstrap.assets.innoq.com/css/0.0.9/innoq-bootstrap-theme.css" />
  <link rel="stylesheet" href="/blog/st/stylesheets/blog.css" />

  <title>When to Use RESTful HTTP [Stefan Tilkov’s Blog]</title>
  
</head>


  <body>

    <nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand m-2 p-2" href="https://www.innoq.com/"><img alt="INNOQ logo" height="40" src="https://innoq.style/assets/innoq-logo--whitered.svg" /></a>
  <a class="navbar-brand text-light" href="/blog/st/">Stefan Tilkov’s Blog Archive</a>
</nav>





    <main class="container">
      <p class="mt-5"><em>
	This is a single archived entry from Stefan Tilkov’s blog. For more up-to-date content,
	check out my <a href="https://www.innoq.com/en/staff/stefan-tilkov/">author page at INNOQ</a>,
	which has more information about me and also contains a list of published talks, podcasts, and articles.
	Or you can check out the <a href="/blog/st/">full archive</a>.

      </em></p>
      <article>
	<header>
          <h1>When to Use RESTful HTTP</h1>
	  <p><small><a href="https://www.innoq.com/en/staff/stefan-tilkov/">Stefan Tilkov</a>, <time datetime="2017-06-26">Jan 4, 2008</time></small><p>
	</header>
	<section>
	  <p><a href="http://www.ebpml.org/blog/42.htm">JJ Dubray has written a post</a> on &#8220;10 questions a solutions architect should ask before using REST&#8221;. Some good points, and worth commenting. You need to read JJ&#8217;s post since I&#8217;m not going to re-iterate everything here, just add my perspective:</p>

<p><em>1. Can the solution be constructed from a series of roughly autonomous webparts that have independent requirements in terms of scalability, security, evolution and ownership? Do you foresee that these webparts will be used in different solutions?</em></p>

<p>JJ sees REST as the solution here; I agree.</p>

<p><em>2. Is your solution also about implementing complex processes that are likely to change on sophisticated business objects such as a an insurance policy or claim?</em></p>

<p>I&#8217;ll happily agree that if you&#8217;re after a BPM-style solution, REST is not the first choice. I have my doubts that you&#8217;re so much better off using WS-* Web services, but clearly there&#8217;s no equivalent of BPEL for plain RESTful HTTP, nor is there much support for it from the big vendors. My guess is that 90% of the REST community don&#8217;t want to have any of this, but I could definitely imagine that there could be some very interesting solutions there. I agree with Mark Masterson and wish JJ would apply his intellect there.</p>

<p><em>3. Does your solution require peer-to-peer inter-actions?</em></p>

<p>I see no problem with peer-to-peer interactions using RESTful HTTP, provided you&#8217;re able to run a Web server on both sides. I see zero advantage on the Web services side.</p>

<p><em>4. What are the implications of reducing application semantics to a uniform interface on your solution?</em></p>

<p>This is the main discussion I&#8217;ve been having with JJ in numerous emails over the last few weeks, and we simply can&#8217;t seem to agree. I believe main benefit of the uniform interface &#8212; connectivity, accessibility, however you might want to call it &#8212; far outweighs the mental shift you have to make to become comfortable with mapping your semantics to it. (There&#8217;s also a strange misquote of one of Roy Fielding&#8217;s slides here, AFAICT - he wanted to show the effects of <em>not</em> using a uniform interface, the most significant one of which is the lost GET possibility. It also makes sense to look at the full content of the slide JJ mentions.) </p>

<p><em>5. What is the impact of using Uniform Resource Identifiers as business entity identifiers?</em></p>

<p>Not everything needs to be identified with a URI, only those things you want to expose as Web resources. For those that have different requirements, you can still use whatever means is appropriate. In the WS-* world, there is <em>no</em> concept of standardized identification. Who would consider this an advantage? Yeah, me neither.</p>

<p><em>6. Is query by example combined with media types enough for building your solution?</em></p>

<p>That&#8217;s actually a pretty good point. There is no standard way of specifying URI templates (but one is emerging), and there is no standardized query syntax. Both would be a good idea. In the end, though, you can of course use any query format you like by POSTing it, thereby creating a new resource (the search result). Again, this is <em>more</em>, not less than what the WS-* world has to offer.</p>

<p><em>7. Do you want XML to be your primary means of exchanging information?</em></p>

<p>JJ uses <a href="http://www.xml.com/pub/a/2004/07/21/dive.html">an older Mark Pilgrim article</a> that, despite the title, is basically concerned with XHTML, or rather: with the way browsers handle XML. It&#8217;s utterly irrelevant to the discussion we&#8217;re having here, particularly as SOAP is XML, and SOAP over HTTP is thus plagued to the same degree by the same problems. </p>

<p>Whether or not you use XML is 100% orthogonal to whether or not you use REST. There is a huge benefit in not having to force everything into XML, as it means you don&#8217;t have to use idiocies like <a href="http://www.w3.org/TR/xop10/">this</a> or <a href="http://www.w3.org/TR/soap12-mtom/">that</a>.</p>

<p><em>8. How do you propagate user identity?</em></p>

<p>Security in WS-* is arguably handled better than in the REST/HTTP world. Whether it&#8217;s particularly user identity propagation that is problematic, I&#8217;m not so sure. In many cases, SSL is sufficient even in WS-* scenarios &#8212; at least that&#8217;s what 99% percent of the installations are using (just a wild guess).</p>

<p><em>9. Do you need transactions in your solution?</em></p>

<p>JJ claims there are no transaction capabilities in REST. True. Don&#8217;t use RESTful HTTP if you want to synchronize multiple requests in a 2PC manner (and thereby tightly couple your systems).</p>

<p><em>10. Do you trust the RESTifarians to come up with all the specifications needed to establish robust server-to-server inter-actions?</em></p>

<p>Most of the stuff that&#8217;s available in the WS-* world is of questionable value, and I see no need to copy it. There&#8217;s one <em>very</em> funny quote, though:</p>

<blockquote>
<p>Hardly anyone in the REST community has experience with writing specifications and major vendors have not yet moved in</p>
</blockquote>

<p>I&#8217;m sure <a href="http://steve.vinoski.net/blog/">Steve Vinoski</a>, <a href="http://www.mnot.net/blog/">Mark Nottingham</a>, <a href="http://www.tbray.org/ongoing/">Tim Bray</a>, <a href="http://bitworking.org/news/">Joe Gregorio</a>,  and many many others are really looking forward to writing their very first specifications soon. Who knows, maybe even Roy Fielding may end up writing one?</p>

<p>JJ, in case you haven&#8217;t noticed, some of the most vocal REST proponents <em>are</em> authors of specs &#8212; sometimes even of those of the WS-* kind. <a href="http://www.mnot.net/blog/2006/05/10/vendors">My favorite quote</a> from <a href="http://www.mnot.net/blog/2006/05/10/vendors">Mark Nottingham</a>, former chair of the W3C WS-Addressing Working Group, illustrates this nicely:</p>

<blockquote>
<p>Show me the interoperable, full and free implementations of WS-* in Python, Perl, Ruby and PHP. You won’t see them, because there’s no intrinsic value in WS-* unless you’re trying to suck money out of your customers. Its complexity serves as a barrier to entry at the same time that it creates “value” that can be sold.</p>
</blockquote>

<section class="comments">



<div class="comment" id="comment-1567">
On <a href="#comment-1567" title="Permalink to this comment">January  5, 2008  4:03 AM</a>, <a href="http://plasmasturm.org/" title="http://plasmasturm.org/" rel="nofollow">Aristotle Pagaltzis</a>

<a href="http://plasmasturm.org/" class="commenter-profile"></a>
said:
<p>Someone should ask Roy whether he wants to pitch in on the new HTTP IETF work so he can finally put “worked on a spec” on his resume. Err. Wait…</p>

<p>:-)</p>


<div class="comment" id="comment-1568">
On <a href="#comment-1568" title="Permalink to this comment">January  5, 2008  6:45 PM</a>, Bob Haygen
said:
<p>You can do 2PC transactions RESTfully. The RESTful Web Services book has an example. You&#8217;ll have more process and data coupling than a completely uncoupled Web resource, but less than any flavor of WS-Tx.  You can make all the state changes driven by hypertext, for example.</p>

<p>You can also generalize that to business processes of arbitrary complexity. </p>

<p>It&#8217;s not something everybody needs to do, and the working examples and doc are pretty sparse (yet), but give it a year.</p>


<div class="comment" id="comment-1569">
On <a href="#comment-1569" title="Permalink to this comment">January  6, 2008  6:05 PM</a>, <a href="/blog/st/">Stefan Tilkov</a>

<a href="/blog/st/" class="commenter-profile"><img src="/mt4/mt-static/images/comment/mt_logo.png" height="16" alt="Author Profile Page" width="16" /></a>
said:
<p>iIRC, the book shows how to do transactions - but they are not 2PC, ore at least not XA (which would be needed to gain the benefits of the many resource managers that support it). Other than that, I agree &#8212; I feel &#8220;classic&#8221; transaction models don&#8217;t have a place in loosely-coupled systems.</p>


<div class="comment" id="comment-1570">
On <a href="#comment-1570" title="Permalink to this comment">January  6, 2008  8:30 PM</a>, <a href="http://www.jroller.com/MasterMark/" title="http://www.jroller.com/MasterMark/" rel="nofollow">mark.masterson.myopenid.com</a>

<a href="http://www.jroller.com/MasterMark/" class="commenter-profile"></a>
said:
<p>I think that JJ&#8217;s comments about the &#8220;lifecycle&#8221; of a resource is a red herring, and a post with more detail about it is brewing.  Basically, I think that if a &#8220;resource&#8221; <em>has</em> a lifecycle, then it&#8217;s a design error &#8212; separation of concerns, division of responsibilities, etc. has misfired, and the &#8220;resource&#8221; with a lifecycle is really N resources, each representing a state or an activity.</p>

<p>But JJ&#8217;s tone has been so unpleasant that I&#8217;ve had no interest in responding.  Holiday festivities were significantly more entertaining.  ;)</p>


<div class="comment" id="comment-1571">
On <a href="#comment-1571" title="Permalink to this comment">January  6, 2008  8:37 PM</a>, Bob Haugen
said:
<p>You can do 2PC RESTfully just fine.  You can&#8217;t use XA or any of the ACID transaction managers, you have to relax the ACID rules.  In particular, you can&#8217;t lock for the duration of the transaction.  </p>

<p>Pat Helland&#8217;s &#8220;Tentative Operations&#8221;, the solution in his &#8220;Life beyond Distributed Transactions&#8221; paper, are actually 2PC.  OASIS BTP (http://www.oasis-open.org/committees/business-transactions/) calls it the Provisional-Final pattern.  Several other names for this same pattern have been proposed.</p>

<p>Basically you mark the resources updated in the first phase as provisional (in any of several ways) and then if the transaction commits, you mark them as final.  No transaction-spanning locks required.</p>


</section>

	</section>
      </article>
    </main>

  </body>
</html>


